---
const { kanji, variant = "dark" } = Astro.props;
---

<li data-kanji={kanji} class={`is-${variant}`}>
  <slot />
</li>

<style>
  @layer components {
    li {
      --border-color: var(--deep-red);
      --bg-color: var(--ink);
      background: var(--bg-color);
      position: relative;
      overflow: hidden;
      transition: background 0.3s;
      display: grid;
      align-items: stretch;
      @container (width < 600px) {
        margin-inline-start: calc(var(--padding-x, 0) * -1);
        inline-size: calc(100% + calc(var(--padding-x, 0) * 2));
      }
    }
    li.is-accent {
      --border-color: rgba(255, 255, 255, 0.1);
      --bg-color: var(--deep-red);
    }
    li.is-medium {
      --bg-color: var(--stone);
    }
    li::before {
      content: attr(data-kanji);
      font-family: var(--ff-jp);
      font-size: 8rem;
      color: rgba(139, 21, 21, 0.1);
      position: absolute;
      top: -1rem;
      right: -1rem;
      line-height: 1;
      pointer-events: none;
    }
    li::after {
      content: "";
      position: absolute;
      inset: auto auto 0 0;
      width: 100%;
      height: 3px;
      background: var(--border-color);
      @container (width >= 900px) {
        inset: 0 auto auto 0;
        width: 3px;
        height: 100%;
      }
    }
  }
</style>