---
import { Image } from "astro:assets";
import patch from "../assets/patch.jpg";
import Button from "./Button.astro";
import { BASE_URL, ROUTES } from "../config/site";
---

<section class="dojo" aria-labelledby="dojo-heading" id="dojo">
  <div>
    <div>
      <h2 class="section-title">A Dojo Rooted in Ancient Tradition</h2>
      <div class="section-body">
        <p>
          Dean's Okinawan Martial Arts teaches Shorin-Ryu Matsumura Seito - one of the oldest and most respected lineages of Okinawan karate, tracing directly to the great Master Matsumura Sōkon.
        </p>
        <p>
          We train the whole person. Discipline, focus, and physical strength are built together. Students leave not just as skilled martial artists, but as grounded, honorable individuals.
        </p>
        <p>
          Our dojo is a place of serious study, mutual respect, and lifelong development. We are open to all who are willing to commit to the work.
        </p>
        <div class="button-group" role="group">
          <Button variant="primary" href={BASE_URL + ROUTES.about}>More About Us</Button>
          <Button variant="secondary" href={BASE_URL + ROUTES.instructors}>Meet our Instructors</Button>
        </div>
      </div>
    </div>
    <div class="about-accent">
      <div class="about-logo-display">
        <Image src={patch} alt="Shorinryu Matsumura Seito Hohan Soken White Crane patch" />
        <span class="about-logo-caption"
          >Hollywood, Maryland · Est. Matsumura Lineage</span
        >
      </div>
      <div class="accent-frame"></div>
    </div>
  </div>
</section>

<style>
  @layer components {
    img {
      inline-size: 70%;
    }
    .dojo {
      container: dojo / inline-size;
      padding: 2rem 1rem;
      max-width: 1200px;
      margin: 0 auto;
      @container (width >= 900px) {
        padding: 7rem 3rem;
      }
    }
    .dojo > div {
      display: grid;
      align-items: center;
      @container dojo (width >= 600px) {
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
      }
      @container dojo (width >= 1200px) {
        gap: 6rem;
      }
    }
    .section-title {
      font-family: var(--ff-heading);
      font-size: clamp(1.8rem, 3.5vw, 3rem);
      font-weight: 700;
      line-height: 1.1;
      color: var(--paper);
      margin-bottom: 2rem;
    }
    .section-body {
      font-size: 1.02rem;
      line-height: 1.9;
      color: var(--silver);
      margin-block-end: 2rem;
    }
    .section-body p {
      max-width: 60ch;
    }
    .about-accent {
      position: relative;
    }
    .about-logo-display {
      width: 100%;
      aspect-ratio: 3 / 4;
      background: var(--stone);
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 2rem;
    }
    .about-logo-caption {
      padding-inline: 1rem;
      text-align: center;
    }
    .accent-frame {
      position: absolute;
      top: 1.5rem;
      left: 1.5rem;
      right: -1.5rem;
      bottom: -1.5rem;
      border: 1px solid rgba(194, 189, 181, 0.15);
      pointer-events: none;
    }
    .button-group {
      display: grid;
      gap: 1rem 2rem;
    }
  }
</style>
